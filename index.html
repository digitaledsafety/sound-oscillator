<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sound Oscillator PWA</title>
    <link rel="manifest" href="/manifest.json">
    <script src="https://unpkg.com/tone"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
      /* Custom styles to ensure full height and centering */
      html, body {
        height: 100%;
        margin: 0;
        font-family: 'Inter', sans-serif;
        background-color: #f0f4f8; /* Light background */
        overflow: hidden; /* Prevent scrolling due to full-screen elements */
      }

      /* Full-screen SVG for visualization */
      #waveformSvg {
        position: fixed; /* Fixed position to cover the entire viewport */
        top: 0;
        left: 0;
        width: 100vw; /* Full viewport width */
        height: 100vh; /* Full viewport height */
        background-color: #2c3e50; /* Dark background for contrast */
        z-index: 1; /* Ensure it's visible */
      }

      /* Container for top-right controls (now empty, but kept for structure) */
      #top-right-controls {
        position: fixed;
        top: 1rem;
        right: 1rem;
        z-index: 10; /* Ensure it's above the SVG */
        display: flex;
        flex-direction: column; /* Stack items vertically */
        align-items: flex-end; /* Align items to the right */
        gap: 0.75rem; /* Space between elements */
        padding: 0.5rem; /* Small padding around the container */
      }

      /* Container for top-left scale controls */
      #top-left-controls {
        position: fixed;
        top: 1rem;
        left: 1rem;
        z-index: 10; /* Ensure it's above the SVG */
        display: flex;
        flex-direction: column; /* Use column for vertical stacking if needed, but flex-start aligns items */
        align-items: flex-start; /* Align items to the left */
        gap: 0; /* Remove gap if only one element */
        padding: 0.5rem; /* Smaller padding */
        background-color: rgba(255, 255, 255, 0.9); /* Slightly transparent white */
        border-radius: 0.5rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        padding: 0.75rem; /* Reduced padding for a more compact look */
      }

      #top-left-controls select {
        padding: 0.3rem 0.6rem; /* Smaller padding for select */
        border-radius: 0.25rem;
        border: 1px solid #ccc;
        font-size: 0.85rem; /* Slightly smaller font size */
        background-color: #f9f9f9;
        color: #333;
        appearance: none; /* Remove default dropdown arrow */
        background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23333%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13.6-6.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%204.6%201.8%208.4%205.4%2012L137%20229.4c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2094.2c3.6-3.6%205.4-7.8%205.4-12.8%200-4.6-1.8-8.4-5.4-12z%22%2F%3E%3C%2Fsvg%3E');
        background-repeat: no-repeat;
        background-position: right 0.5rem center;
        background-size: 0.6em auto;
        padding-right: 2rem; /* Make space for the custom arrow */
      }
      /* Removed .bar fill from CSS as it's now handled dynamically by D3 */
    </style>
  </head>
  <body>
    <div id="top-left-controls">
        <select id="scaleSelect"></select>
    </div>

    <svg id="waveformSvg"></svg>

    <script src="js/main.js"></script>
  </body>
</html>
